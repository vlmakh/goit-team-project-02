{"mappings":"gfAAA,IAKuBA,EACfC,EANRC,EAAAC,EAAA,SCAMC,EAAc,UACdC,EAAY,QACLC,EAAUC,KAAKC,MAAMC,aAAaC,QAAQN,KAAiB,GAC3DO,EAAQJ,KAAKC,MAAMC,aAAaC,QAAQL,KAAe,GCI7D,SAASO,EAAeC,EAAKb,GDF7B,IAAiCc,GCKtCC,QAAQC,IAAI,sBACRV,EAAQW,SAASjB,MAIrBM,EAAQY,KAAKlB,GDVyBc,ECWdR,EDVxBG,aAAaU,QAAQf,EAAaG,KAAKa,UAAUN,I,CCc5C,SAASO,EAAaR,EAAKb,GDX3B,IAA+Bc,GCYpCC,QAAQC,IAAI,qBACRL,EAAMM,SAASjB,MAGnBW,EAAMO,KAAKlB,GDhByBc,ECiBdH,EDhBtBF,aAAaU,QAAQd,EAAWE,KAAKa,UAAUN,I,CDL1Bd,EAFT,GAGNC,EAAWqB,SAASC,cAAc,iBAC3B,EAAArB,EAAAsB,cAAaxB,GAAIyB,MAAK,SAAAC,G,IA4C5BC,EA2BUC,EAtETC,EAAS,6EAQcC,OANWJ,EAAKK,YAAY,kHAwBnBD,OAlBTJ,EAAKM,MAAM,0qBAmBtCF,OADoCJ,EAAKO,aAAaC,QAAQ,GAAG,MAK7BJ,OAJpCJ,EAAKS,WACN,4GAMqCL,OAHAJ,EAAKU,WAAWF,QAAQ,GAAG,4GAM3BJ,OAHAJ,EAAKM,MAAM,4GAS5CF,QA2BUF,EAjCiCF,EAAKW,OAkChDT,EAAYU,KAAI,SAAAC,G,OAAQA,EAAKC,I,IAAMC,KAAK,OAlCgB,+IAMjCX,OAAV,QAAbH,EAAAD,EAAKgB,gBAAQ,IAAbf,IAAiB,MAAM,oYAgB5B1B,EAAS0C,UAAYd,EAErB,IAAMe,EAAgBtB,SAASC,cAAc,2BACvCsB,EAAcvB,SAASC,cAAc,yBAG3CqB,EAAcE,iBAAiB,QAASlC,GACxCiC,EAAYC,iBAAiB,QAASzB,E","sources":["src/js/loading-into-modal.js","src/js/local-storage.js","src/js/add-to-watched&queue.js"],"sourcesContent":["import { getInfoMovie } from './api';\nimport { onAddToWatched, onAddToQueue } from './add-to-watched&queue';\n\nloadIntoModal(12);\n\nfunction loadIntoModal(id) {\n  const modalRef = document.querySelector('.modal__wrap');\n  const film = getInfoMovie(id).then(data => {\n    const markup = `<img\n      class=\"modal__img\"\n      src=\"https://image.tmdb.org/t/p/w500${data.poster_path}\"\n      alt=\"\"\n      width=\"240px\"\n      height=\"357px\"\n    />\n    <div>\n      <h2 class=\"modal__title\">${data.title}</h2>\n      <div class=\"modal__list-box\">\n        <ul class=\"modal__list list\">\n          <li class=\"modal__list-item\">\n            <p class=\"modal__list-rigth\">Vote/Votes </p>\n          </li>\n          <li class=\"modal__list-item\">\n            <p class=\"modal__list-rigth\">Popularity</p>\n          </li>\n          <li class=\"modal__list-item\">\n            <p class=\"modal__list-rigth\">Original Title</p>\n          </li>\n          <li class=\"modal__list-item\">\n            <p class=\"modal__list-rigth\">Genre</p>\n          </li>\n        </ul>\n        <ul class=\"modal__list list\">\n          <li class=\"modal__list-item\">\n            <p class=\"modal__list-left\">${data.vote_average.toFixed(1)} /${\n      data.vote_count\n    }</p>\n          </li>\n          <li class=\"modal__list-item\">\n            <p class=\"modal__list-left\">${data.popularity.toFixed(1)}</p>\n          </li>\n          <li class=\"modal__list-item\">\n            <p class=\"modal__list-left\">${data.title}</p>\n          </li>\n          <li class=\"modal__list-item\">\n            <p class=\"modal__list-left\">${getGenres(data.genres)}</p>\n          </li>\n        </ul>\n      </div>\n      <h3 class=\"modal__subtitle\">ABOUT</h3>\n      <p class=\"modal__descrpt\">\n       ${data.overview ?? '---'}\n      </p>\n      <ul class=\"modal__btn-list list\">\n        <li>\n          <button type=\"button\" class=\"modal__btn\" data-btn=\"addToWatched\">\n            add to Watched\n          </button>\n        </li>\n        <li>\n          <button type=\"button\" class=\"modal__btn\" data-btn=\"addToQueue\">\n            add to queue\n          </button>\n        </li>\n      </ul>\n    </div>`;\n\n    modalRef.innerHTML = markup;\n\n    const addWatchedRef = document.querySelector('[data-btn=addToWatched]');\n    const addQueueRef = document.querySelector('[data-btn=addToQueue]');\n    // if (watched.includes(id)) addWatchedRef.setAttribute('disabled', true);\n    //  if (queue.includes(id)) addQueueRef.setAttribute('disable', true);\n    addWatchedRef.addEventListener('click', onAddToWatched);\n    addQueueRef.addEventListener('click', onAddToQueue);\n  });\n}\n\nfunction getGenres(arrOfGenres) {\n  return arrOfGenres.map(genr => genr.name).join(', ');\n}\n","const KEY_WATCHED = 'watched';\nconst KEY_QUEUE = 'queue';\nexport const watched = JSON.parse(localStorage.getItem(KEY_WATCHED)) || [];\nexport const queue = JSON.parse(localStorage.getItem(KEY_QUEUE)) || [];\n\nexport function setWatchedLocalStoradge(arr) {\n  localStorage.setItem(KEY_WATCHED, JSON.stringify(arr));\n}\n\nexport function setQueueLocalStoradge(arr) {\n  localStorage.setItem(KEY_QUEUE, JSON.stringify(arr));\n}\n","import {\n  watched,\n  queue,\n  setWatchedLocalStoradge,\n  setQueueLocalStoradge,\n} from './local-storage';\n\nexport function onAddToWatched(evt, id) {\n  // evt.preventDefault();\n\n  console.log('ddWatchedRef click');\n  if (watched.includes(id)) {\n    return;\n  }\n\n  watched.push(id);\n  setWatchedLocalStoradge(watched);\n  // console.log(watched);\n}\n\nexport function onAddToQueue(evt, id) {\n  console.log('addQueueRef click');\n  if (queue.includes(id)) {\n    return;\n  }\n  queue.push(id);\n  setQueueLocalStoradge(queue);\n}\n"],"names":["id","modalRef","$b7ONl","parcelRequire","$3791646d3ae2cee8$var$KEY_WATCHED","$3791646d3ae2cee8$var$KEY_QUEUE","$3791646d3ae2cee8$export$e330b7faa493c08b","JSON","parse","localStorage","getItem","$3791646d3ae2cee8$export$4f7fa46ff53e516f","$73a4fd91c3e5350c$export$8365ca842e8c6100","evt","arr","console","log","includes","push","setItem","stringify","$73a4fd91c3e5350c$export$f1fef8fa31d6cdf5","document","querySelector","getInfoMovie","then","data","_overview","arrOfGenres","markup","concat","poster_path","title","vote_average","toFixed","vote_count","popularity","genres","map","genr","name","join","overview","innerHTML","addWatchedRef","addQueueRef","addEventListener"],"version":3,"file":"index.acaa267a.js.map"}