!function(){var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},l={},n=t.parcelRequired7c6;null==n&&((n=function(t){if(t in e)return e[t].exports;if(t in l){var n=l[t];delete l[t];var o={id:t,exports:{}};return e[t]=o,n.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(t,e){l[t]=e},t.parcelRequired7c6=n);var o=n("4Nugj"),a=n("b7ONl"),i="watched",s="queue",d=JSON.parse(localStorage.getItem(i))||[],c=JSON.parse(localStorage.getItem(s))||[];function r(t){var e;(console.log("add to watch: ",t),d.includes(t))||(d.push(t),e=d,localStorage.setItem(i,JSON.stringify(e)))}function u(t){var e;(console.log("add to Queue: ",t),c.includes(t))||(c.push(t),e=c,localStorage.setItem(s,JSON.stringify(e)))}function f(t){var e=document.querySelector(".modal__wrap");(0,a.getInfoMovie)(t).then((function(l){if(console.log(l),l){var n,o,a='<img\n      class="modal__img"\n      src="https://image.tmdb.org/t/p/w500'.concat(l.poster_path,'"\n      alt=""\n      width="240px"\n      height="357px"\n    />\n    <div>\n      <h2 class="modal__title">').concat(l.title,'</h2>\n      <div class="modal__list-box">\n        <ul class="modal__list list">\n          <li class="modal__list-item">\n            <p class="modal__list-rigth">Vote/Votes </p>\n          </li>\n          <li class="modal__list-item">\n            <p class="modal__list-rigth">Popularity</p>\n          </li>\n          <li class="modal__list-item">\n            <p class="modal__list-rigth">Original Title</p>\n          </li>\n          <li class="modal__list-item">\n            <p class="modal__list-rigth">Genre</p>\n          </li>\n        </ul>\n        <ul class="modal__list list">\n          <li class="modal__list-item">\n            <p class="modal__list-left">').concat(l.vote_average.toFixed(1)," /").concat(l.vote_count,'</p>\n          </li>\n          <li class="modal__list-item">\n            <p class="modal__list-left">').concat(l.popularity.toFixed(1),' ?? \'-\'</p>\n          </li>\n          <li class="modal__list-item">\n            <p class="modal__list-left">').concat(l.title,'</p>\n          </li>\n          <li class="modal__list-item">\n            <p class="modal__list-left">').concat((o=l.genres,o.map((function(t){return t.name})).join(", ")),'</p>\n          </li>\n        </ul>\n      </div>\n      <h3 class="modal__subtitle">ABOUT</h3>\n      <p class="modal__descrpt">\n       ').concat(null!==(n=l.overview)&&void 0!==n?n:"---",'\n      </p>\n      <ul class="modal__btn-list list">\n        <li>\n          <button type="button" class="modal__btn" data-btn="addToWatched">\n            add to Watched\n          </button>\n        </li>\n        <li>\n          <button type="button" class="modal__btn" data-btn="addToQueue">\n            add to queue\n          </button>\n        </li>\n      </ul>\n    </div>');e.innerHTML=a;var i=document.querySelector("[data-btn=addToWatched]"),s=document.querySelector("[data-btn=addToQueue]");console.dir(i),d.includes(t)&&(i.textContent="Is in watchers",i.style.backgroundColor="#ff6b01",i.style.color="#ffffff"),c.includes(t)&&(s.textContent="Is in queue",s.style.backgroundColor="#ff6b01",s.style.color="#ffffff"),i.addEventListener("click",(function(){d.includes(t)?(d.splice(d.indexOf(t),1),i.style.backgroundColor="#ffffff"):r(t),f(t)})),s.addEventListener("click",(function(){c.includes(t)?(c.splice(d.indexOf(t),1),s.style.backgroundColor="#ffffff"):u(t),f(t)}))}else e.innerHTML="Sorry, info is unavailable"}))}function m(){document.body.classList.remove("show-modal","modal-open")}function _(t){"Escape"===t.code&&(window.removeEventListener("keydown",_),m())}o.default.gallery.addEventListener("click",(function(t){if(!t.target.classList.contains("movie__image"))return;console.log(t.target.dataset.movie),f(t.target.dataset.movie),document.body.classList.add("show-modal","modal-open"),window.addEventListener("keydown",_)})),o.default.closeModalBtn.addEventListener("click",m),o.default.divBackdrop.addEventListener("click",(function(t){t.currentTarget===t.target&&m()}))}();
//# sourceMappingURL=index.068c57ee.js.map
