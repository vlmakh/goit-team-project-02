{"mappings":"iMAAO,SAASA,EAAoBC,GAClC,OAAOA,EACJC,KAAI,SAAAC,G,IAMSC,EAKiBC,EAGLC,EAbxB,MAAO,oIAIqCC,OADEJ,EAAMK,GAAG,uDAE3CD,OADgCJ,EAAMM,YAAY,uBAMjCF,OALN,QAAXH,EAAAD,EAAMO,aAAK,IAAXN,IAAeD,EAAMQ,KAAK,4IAMPJ,OADS,QAAXF,EAAAF,EAAMO,aAAK,IAAXL,IAAeF,EAAMQ,KAAK,6CAGhCJ,OAFQJ,EAAMS,OAC9BV,KAAI,SAAAW,G,OAASA,EAAMF,I,IACnBG,KAAK,MAAM,OAGhBP,QAHwC,QAAlBD,EAAAH,EAAMY,oBAAY,IAAlBT,IAAsBH,EAAMa,gBAAgBC,MAClE,EACA,GACA,oC,IAIHH,KAAK,G,2VClBJI,EAAaC,SAASC,cAAc,2BACpCC,EAAWF,SAASC,cAAc,yBAKxC,SAASE,IACFC,EAAAC,QAAQC,SAIb,EAAAC,EAAAC,kBAAiBJ,EAAAC,SACdI,MAAK,SAAAC,GACJC,EAAAC,QAAKC,QAAQC,UAAYjC,EAAoB6B,E,IAE9CK,OAAM,SAAAC,G,OAAMC,QAAQC,IAAIF,E,IACtBjB,EAAWoB,UAAUC,SAAS,iCACjCrB,EAAWoB,UAAUE,IAAI,+BACzBnB,EAASiB,UAAUG,OAAO,iCAV1BX,EAAAC,QAAKC,QAAQC,UAAa,wB,CAL9Bf,EAAWwB,iBAAiB,QAASpB,GACrCD,EAASqB,iBAAiB,SAkB1B,WACE,IAAKnB,EAAAoB,MAAMlB,OAET,YADAK,EAAAC,QAAKC,QAAQC,UAAa,yBAG5B,EAAAP,EAAAC,kBAAiBJ,EAAAoB,OAAOf,MAAK,SAAAC,GAC3BC,EAAAC,QAAKC,QAAQC,UAAYjC,EAAoB6B,E,IAG1CR,EAASiB,UAAUC,SAAS,iCAC/BlB,EAASiB,UAAUE,IAAI,+BACvBtB,EAAWoB,UAAUG,OAAO,+B,IAIhCnB,I","sources":["src/js/create-library-markup.js","src/js/render-from-storage.js"],"sourcesContent":["export function createLibraryMarkup(movies) {\n  return movies\n    .map(movie => {\n      return `\n      <li class=\"movie__card\" >\n        <div class=\"movie__thumb\">        \n            <img class=\"movie__image\" data-movie=\"${movie.id}\"\n            src=\"https://image.tmdb.org/t/p/w500${movie.poster_path}\"\n            alt=${movie.title ?? movie.name}\n            loading=\"lazy\"\n            />      \n        </div>\n        <div class=\"movie__info\">\n          <p class=\"movie__name\">${movie.title ?? movie.name}</p>\n          <p class=\"movie__descr\"> ${movie.genres\n            .map(genre => genre.name)\n            .join(', ')} | ${(movie.release_date ?? movie.first_air_date).slice(\n        0,\n        4\n      )}</p>\n        </div>\n      </li>`;\n    })\n    .join('');\n}\n","import { createLibraryMarkup } from './create-library-markup';\nimport refs from './refs';\nimport { watched, queue } from './local-storage';\nimport { getArrayofMovies } from './api';\n\nconst watchedRef = document.querySelector('[data-id=\"watched-btn\"]');\nconst queueRef = document.querySelector('[data-id=\"queue-btn\"]');\n\nwatchedRef.addEventListener('click', showWatched);\nqueueRef.addEventListener('click', showQueue);\n\nfunction showWatched() {\n  if (!watched.length) {\n    refs.library.innerHTML = `<p>Watched is empty<p>`;\n    return;\n  }\n  getArrayofMovies(watched)\n    .then(data => {\n      refs.library.innerHTML = createLibraryMarkup(data);\n    })\n    .catch(er => console.log(er));\n  if (!watchedRef.classList.contains('header-movie-button--active')) {\n    watchedRef.classList.add('header-movie-button--active');\n    queueRef.classList.remove('header-movie-button--active');\n  }\n}\n\nfunction showQueue() {\n  if (!queue.length) {\n    refs.library.innerHTML = `<p>Queue is empty<p>`;\n    return;\n  }\n  getArrayofMovies(queue).then(data => {\n    refs.library.innerHTML = createLibraryMarkup(data);\n  });\n\n  if (!queueRef.classList.contains('header-movie-button--active')) {\n    queueRef.classList.add('header-movie-button--active');\n    watchedRef.classList.remove('header-movie-button--active');\n  }\n}\n\nshowWatched();\n"],"names":["$247e802425b2989b$export$cf41565f85ca117a","movies","map","movie","_title","_title1","_release_date","concat","id","poster_path","title","name","genres","genre","join","release_date","first_air_date","slice","$a0e0822b94e253c4$var$watchedRef","document","querySelector","$a0e0822b94e253c4$var$queueRef","$a0e0822b94e253c4$var$showWatched","$4LMMA","watched","length","$b7ONl","getArrayofMovies","then","data","$4Nugj","default","library","innerHTML","catch","er","console","log","classList","contains","add","remove","addEventListener","queue"],"version":3,"file":"library.73a16fa3.js.map"}