{"mappings":"qpBAAA,IAAAA,EAAAC,EAAA,S,aAKO,SAASC,EAAcC,GAC5B,MAAMC,EAAWC,SAASC,cAAc,iBAC3B,EAAAN,EAAAO,cAAaJ,GAAIK,MAAKC,IACjC,MAAMC,EAAS,6EAEyBD,EAAKE,4HAMhBF,EAAKG,8qBAkBIH,EAAKI,aAAaC,QAAQ,OAC9DL,EAAKM,qHAI+BN,EAAKO,WAAWF,QAAQ,6GAGxBL,EAAKG,gHAoC5BK,EAjCiCR,EAAKS,OAkChDD,EAAYE,KAAIC,GAAQA,EAAKC,OAAMC,KAAK,mJA5BxCb,EAAKc,UAAY,wYA2B1B,IAAmBN,EAXfb,EAASoB,UAAYd,EAErB,MAAMe,EAAgBpB,SAASC,cAAc,2BACvCoB,EAAcrB,SAASC,cAAc,yBAG3CmB,EAAcE,iBAAiB,QAASC,EAAAC,gBACxCH,EAAYC,iBAAiB,QAASC,EAAAE,aAAa,G,+IC1EvD,IAAAC,EAAA9B,EAAA,SAOO,SAAS+B,EAAeC,EAAK9B,GAGlC+B,QAAQC,IAAI,sBACRJ,EAAAK,QAAQC,SAASlC,KAIrB4B,EAAAK,QAAQE,KAAKnC,IACb,EAAA4B,EAAAQ,yBAAwBR,EAAAK,S,CAInB,SAASI,EAAaP,EAAK9B,GAChC+B,QAAQC,IAAI,qBACRJ,EAAAU,MAAMJ,SAASlC,KAGnB4B,EAAAU,MAAMH,KAAKnC,IACX,EAAA4B,EAAAW,uBAAsBX,EAAAU,O,2PC1BxB,MAAME,EAAc,UACdC,EAAY,QACLC,EAAUC,KAAKC,MAAMC,aAAaC,QAAQN,KAAiB,GAC3DO,EAAQJ,KAAKC,MAAMC,aAAaC,QAAQL,KAAe,GAE7D,SAASO,EAAwBC,GACtCJ,aAAaK,QAAQV,EAAaG,KAAKQ,UAAUF,G,CAG5C,SAASG,EAAsBH,GACpCJ,aAAaK,QAAQT,EAAWE,KAAKQ,UAAUF,G","sources":["src/js/loading-into-modal.js","src/js/add-to-watched&queue.js","src/js/local-storage.js"],"sourcesContent":["import { getInfoMovie } from './api';\nimport { onAddToWatched, onAddToQueue } from './add-to-watched&queue';\n\n// loadIntoModal(12);\n\nexport function loadIntoModal(id) {\n  const modalRef = document.querySelector('.modal__wrap');\n  const film = getInfoMovie(id).then(data => {\n    const markup = `<img\n      class=\"modal__img\"\n      src=\"https://image.tmdb.org/t/p/w500${data.poster_path}\"\n      alt=\"\"\n      width=\"240px\"\n      height=\"357px\"\n    />\n    <div>\n      <h2 class=\"modal__title\">${data.title}</h2>\n      <div class=\"modal__list-box\">\n        <ul class=\"modal__list list\">\n          <li class=\"modal__list-item\">\n            <p class=\"modal__list-rigth\">Vote/Votes </p>\n          </li>\n          <li class=\"modal__list-item\">\n            <p class=\"modal__list-rigth\">Popularity</p>\n          </li>\n          <li class=\"modal__list-item\">\n            <p class=\"modal__list-rigth\">Original Title</p>\n          </li>\n          <li class=\"modal__list-item\">\n            <p class=\"modal__list-rigth\">Genre</p>\n          </li>\n        </ul>\n        <ul class=\"modal__list list\">\n          <li class=\"modal__list-item\">\n            <p class=\"modal__list-left\">${data.vote_average.toFixed(1)} /${\n      data.vote_count\n    }</p>\n          </li>\n          <li class=\"modal__list-item\">\n            <p class=\"modal__list-left\">${data.popularity.toFixed(1)}</p>\n          </li>\n          <li class=\"modal__list-item\">\n            <p class=\"modal__list-left\">${data.title}</p>\n          </li>\n          <li class=\"modal__list-item\">\n            <p class=\"modal__list-left\">${getGenres(data.genres)}</p>\n          </li>\n        </ul>\n      </div>\n      <h3 class=\"modal__subtitle\">ABOUT</h3>\n      <p class=\"modal__descrpt\">\n       ${data.overview ?? '---'}\n      </p>\n      <ul class=\"modal__btn-list list\">\n        <li>\n          <button type=\"button\" class=\"modal__btn\" data-btn=\"addToWatched\">\n            add to Watched\n          </button>\n        </li>\n        <li>\n          <button type=\"button\" class=\"modal__btn\" data-btn=\"addToQueue\">\n            add to queue\n          </button>\n        </li>\n      </ul>\n    </div>`;\n\n    modalRef.innerHTML = markup;\n\n    const addWatchedRef = document.querySelector('[data-btn=addToWatched]');\n    const addQueueRef = document.querySelector('[data-btn=addToQueue]');\n    // if (watched.includes(id)) addWatchedRef.setAttribute('disabled', true);\n    //  if (queue.includes(id)) addQueueRef.setAttribute('disable', true);\n    addWatchedRef.addEventListener('click', onAddToWatched);\n    addQueueRef.addEventListener('click', onAddToQueue);\n  });\n}\n\nfunction getGenres(arrOfGenres) {\n  return arrOfGenres.map(genr => genr.name).join(', ');\n}\n","import {\n  watched,\n  queue,\n  setWatchedLocalStoradge,\n  setQueueLocalStoradge,\n} from './local-storage';\n\nexport function onAddToWatched(evt, id) {\n  // evt.preventDefault();\n\n  console.log('ddWatchedRef click');\n  if (watched.includes(id)) {\n    return;\n  }\n\n  watched.push(id);\n  setWatchedLocalStoradge(watched);\n  // console.log(watched);\n}\n\nexport function onAddToQueue(evt, id) {\n  console.log('addQueueRef click');\n  if (queue.includes(id)) {\n    return;\n  }\n  queue.push(id);\n  setQueueLocalStoradge(queue);\n}\n","const KEY_WATCHED = 'watched';\nconst KEY_QUEUE = 'queue';\nexport const watched = JSON.parse(localStorage.getItem(KEY_WATCHED)) || [];\nexport const queue = JSON.parse(localStorage.getItem(KEY_QUEUE)) || [];\n\nexport function setWatchedLocalStoradge(arr) {\n  localStorage.setItem(KEY_WATCHED, JSON.stringify(arr));\n}\n\nexport function setQueueLocalStoradge(arr) {\n  localStorage.setItem(KEY_QUEUE, JSON.stringify(arr));\n}\n"],"names":["$7rYDH","parcelRequire","$464bbe8c76c3bd9a$export$de4b13aa6582d63d","id","modalRef","document","querySelector","getInfoMovie","then","data","markup","poster_path","title","vote_average","toFixed","vote_count","popularity","arrOfGenres","genres","map","genr","name","join","overview","innerHTML","addWatchedRef","addQueueRef","addEventListener","$gAKaR","onAddToWatched","onAddToQueue","$b5rV1","$c143d358a24b828c$export$8365ca842e8c6100","evt","console","log","watched","includes","push","setWatchedLocalStoradge","$c143d358a24b828c$export$f1fef8fa31d6cdf5","queue","setQueueLocalStoradge","$8125d1701b78b442$var$KEY_WATCHED","$8125d1701b78b442$var$KEY_QUEUE","$8125d1701b78b442$export$e330b7faa493c08b","JSON","parse","localStorage","getItem","$8125d1701b78b442$export$4f7fa46ff53e516f","$8125d1701b78b442$export$a2783b347c35b53c","arr","setItem","stringify","$8125d1701b78b442$export$9b1980188efe1678"],"version":3,"file":"index.5203b49b.js.map"}